<div class="container mx-auto p-6 bg-white shadow-lg rounded-lg max-w-3xl">
  <h2 class="text-2xl font-semibold text-gray-800 mb-6">Editar Producto</h2>
  <form (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <div class="mb-4">
      <label for="nombre" class="block text-sm font-medium text-gray-700"
        >Nombre</label
      >
      <input
        id="nombre"
        [(ngModel)]="product.nombre"
        name="nombre"
        required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
      />
    </div>

    <!-- Precio -->
    <div class="mb-4">
      <label for="precio" class="block text-sm font-medium text-gray-700"
        >Precio</label
      >
      <input
        id="precio"
        [(ngModel)]="product.precio"
        name="precio"
        required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
      />
    </div>

    <!-- Descripción -->
    <div class="mb-4">
      <label for="descripcion" class="block text-sm font-medium text-gray-700"
        >Descripción</label
      >
      <textarea
        id="descripcion"
        [(ngModel)]="product.descripcion"
        name="descripcion"
        required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
        rows="4"
      ></textarea>
    </div>

    <!-- Cantidad Disponible -->
    <div class="mb-4">
      <label
        for="cantidad_disponible"
        class="block text-sm font-medium text-gray-700"
        >Cantidad Disponible</label
      >
      <input
        id="cantidad_disponible"
        [(ngModel)]="product.cantidad_disponible"
        name="cantidad_disponible"
        type="number"
        required
        min="1"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
      />
    </div>

    <!-- Categoría -->
    <div class="mb-4">
      <label for="categoria_id" class="block text-sm font-medium text-gray-700"
        >Categoría</label
      >
      <select
        id="categoria_id"
        [(ngModel)]="product.categoria_id"
        name="categoria_id"
        required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
      >
        <option *ngFor="let categoria of categorias" [value]="categoria.id">
          {{ categoria.nombre }}
        </option>
      </select>
    </div>

    <!-- Estado -->
    <div class="mb-4">
      <label for="estado" class="block text-sm font-medium text-gray-700"
        >Estado</label
      >
      <select
        id="estado"
        [(ngModel)]="product.estado"
        name="estado"
        required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500"
      >
        <option value="disponible">Disponible</option>
        <option value="agotado">Agotado</option>
      </select>
    </div>

    <!-- En oferta -->
    <div class="mb-4 flex items-center space-x-2">
      <label for="on_sale" class="ml-2 text-sm font-medium text-gray-900"
        >¿En oferta?</label
      >
      <input
        id="on_sale"
        [(ngModel)]="product.on_sale"
        name="on_sale"
        type="checkbox"
        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"
      />
    </div>

    <!-- Imágenes actuales -->
    <div *ngIf="product.images && product.images.length > 0" class="mb-4">
      <h4 class="text-sm font-medium text-gray-700">Imágenes actuales:</h4>
      <div class="flex space-x-2 mt-2">
        <img
          *ngFor="let image of product.images"
          [src]="'http://localhost:3005/api' + image"
          alt="Imagen del producto"
          class="h-24 w-24 object-cover rounded-md"
        />
      </div>
    </div>

    <!-- Selección de nuevas imágenes -->
    <div class="mb-4">
      <label for="images" class="block mb-2 text-sm font-medium text-gray-900"
        >Seleccionar nuevas imágenes:</label
      >
      <input
        id="images"
        type="file"
        (change)="onImageSelect($event)"
        multiple
        class="block w-full px-3 py-2 mt-2 text-sm text-gray-600 bg-white border border-gray-200 rounded-lg file:bg-gray-200 file:text-gray-700 file:text-sm file:px-4 file:py-1 file:border-none file:rounded-full"
      />
    </div>

    <!-- Botón de Guardar -->
    <div class="mt-6">
      <button
        type="submit"
        class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-300"
      >
        Guardar Cambios
      </button>
    </div>
  </form>
</div>
